<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"></meta>
	<title>TERRA</title>

	<link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>

	<link rel=stylesheet href="./css/style.css" type="text/css"></link>
	<script language="javascript" type="text/javascript" src="./js/svg.js"></script>
	<!--
	<script language="javascript" type="text/javascript" src="./js/svg.min.js"></script>
	-->
	<script language="javascript" type="text/javascript" src="./js/svg.draggable.js"></script>

</head>
<body>
<div id="top">
	<div id="about">
		<h1> ABOUT </h1>
		<p>
		Inspired by the fascinating work of <a href="https://vimeo.com/6745866">Jerry Gretzinger</a>. This is my personal digital rendition.
		</p>
	</div>

	<div id="controls">
		<p>+</p>	
		<p>-</p>
	</div>
</div>

<div id="wrapper">
	<div id="title"></div>
	<div id="terra"></div>
</div>

<div id="push"></div>

<footer>
<p>2015, Gibran Garcia - <a href="http://owlsketch.com">owlsketch.com</a></p>
</footer>

<script language="javascript" type="text/javascript">
//pre-rendering
	if(!(SVG.supported)) {
		alert('SVG not supported');
	}
	else {
		var terra = document.getElementById('terra');
		var sz = {};
		sz.terraWidth = 1800;
		sz.terraHeight = 1800;
		sz.terraWidthMid = sz.terraWidth/2;
		sz.terraHeightMid = sz.terraHeight/2; 
		sz.width = 600;
		sz.height = 600;
		sz.widthMid = sz.width/2;
		sz.heightMid = sz.height/2;

		/*structure 
			Terra is the reference in our html
			from Terra we create the galaxy.
			The galaxy contains our origin, our world in its entirety.
			Within origin, we have our mapTiles, the sections of lands.
			Terra -> galaxy -> origin -> mapTiles

			Why galaxy? Dragging is only allowed when the element is
			the child of another svg element. Thus, if we wish, to move
			origin, the container of all our maptiles, we must contain it
			within something bigger. A galaxy. 
		*/

		var galaxy = SVG('terra').size(sz.terraWidth, sz.terraHeight);
		galaxy.background = galaxy.rect(sz.terraWidth, sz.terraHeight);
		galaxy.background.attr({'fill': '#fff', 'stroke': '#000'});

		var origin = galaxy.nested().size(sz.terraWidth, sz.terraHeight);
		//sets the default values for all inherited objects
		origin.attr({'fill': '#fff'});
		origin.draggable();

	
		//cx and cy parameters, tell it to scale amongst the center of the object
		origin.transform({ scaleX: .4, cx: sz.terraWidth/2, scaleY: .4, cy: sz.terraHeight/2});

		//can only drag where elements have been defined. So using
		//a background so that dragging is always enabled.
		origin.background = origin.rect(sz.terraWidth, sz.terraHeight);
		origin.background.attr({'fill': '#fff', 'stroke': '#000'});

		var mT = {}; //mapTiles
		mT[-1] = {};
		mT[0] = {};
		mT[1] = {};
	}
</script> 
<script language="javascript" type="text/javascript" src="./mapTiles/-1_1.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/0_1.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/1_1.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/-1_0.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/0_0.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/1_0.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/-1_-1.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/0_-1.js"></script>
<script language="javascript" type="text/javascript" src="./mapTiles/1_-1.js"></script>

<script language="javascript" type="text/javascript">
//post-rendering
</script>

</body>
</html>
